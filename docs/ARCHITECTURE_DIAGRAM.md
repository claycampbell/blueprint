# Connect 2.0 High-Level Architecture Diagram

**Version:** 1.0
**Last Updated:** November 25, 2025
**Status:** Reference Architecture

---

## 1. Current State vs. Target State Overview

```
                           CURRENT STATE (Before)
    ┌─────────────────────────────────────────────────────────────────┐
    │                                                                 │
    │    ┌─────────────┐     ┌─────────────┐     ┌─────────────┐     │
    │    │     BPO     │     │ Connect 1.0 │     │  SharePoint │     │
    │    │  (Firebase) │     │ (Filemaker) │     │   (M365)    │     │
    │    │             │     │             │     │             │     │
    │    │ Lead Intake │     │ Loan Docs   │     │ Feasibility │     │
    │    │ Projects    │     │ Servicing   │     │ Entitlement │     │
    │    │ Draws       │     │ Contacts    │     │ Permits     │     │
    │    └──────┬──────┘     └──────┬──────┘     └──────┬──────┘     │
    │           │                   │                   │             │
    │           └──────── MANUAL ───┴─── DATA SYNC ─────┘             │
    │                      (Error-prone, time-consuming)              │
    │                                                                 │
    └─────────────────────────────────────────────────────────────────┘
                                    │
                                    │ TRANSFORMATION
                                    ▼
                           TARGET STATE (After)
    ┌─────────────────────────────────────────────────────────────────┐
    │                        CONNECT 2.0                              │
    │              Unified Cloud-Native Platform                      │
    │                                                                 │
    │    ┌─────────────────────────────────────────────────────┐     │
    │    │            Single Source of Truth                    │     │
    │    │  • Automated Data Flow   • Real-Time Visibility      │     │
    │    │  • AI-Powered Insights   • Workflow Automation       │     │
    │    └─────────────────────────────────────────────────────┘     │
    │                                                                 │
    └─────────────────────────────────────────────────────────────────┘
```

---

## 2. Connect 2.0 Platform Architecture (Layered View)

```
┌──────────────────────────────────────────────────────────────────────────────┐
│                              CLIENT LAYER                                     │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐    │
│   │  Blueprint   │  │    Agent     │  │   Builder    │  │    Admin     │    │
│   │   Web App    │  │   Portal     │  │   Portal     │  │   Console    │    │
│   │   (React)    │  │   (React)    │  │   (React)    │  │   (React)    │    │
│   └──────┬───────┘  └──────┬───────┘  └──────┬───────┘  └──────┬───────┘    │
│          │                 │                 │                 │             │
│   ┌──────┴─────────────────┴─────────────────┴─────────────────┴───────┐    │
│   │                     Mobile Responsive PWA                           │    │
│   └─────────────────────────────────────────────────────────────────────┘    │
│          │                                                                   │
│   ┌──────┴───────┐                                                          │
│   │  iPad App    │  (Offline-first for field inspections)                   │
│   └──────────────┘                                                          │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       │ HTTPS/REST
                                       ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                            API GATEWAY LAYER                                  │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │                         API Gateway                                 │    │
│   │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐           │    │
│   │  │   Rate   │  │   Auth   │  │  Route   │  │   CORS   │           │    │
│   │  │ Limiting │  │ (OAuth)  │  │ Routing  │  │ Handling │           │    │
│   │  └──────────┘  └──────────┘  └──────────┘  └──────────┘           │    │
│   │  ┌──────────┐  ┌──────────┐  ┌──────────┐                         │    │
│   │  │   API    │  │ Request  │  │  Audit   │                         │    │
│   │  │Versioning│  │ Logging  │  │ Logging  │                         │    │
│   │  └──────────┘  └──────────┘  └──────────┘                         │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                          APPLICATION LAYER                                    │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                    Workflow & Orchestration Engine                   │   │
│   │  • Process Automation  • Task Management  • Notifications            │   │
│   │  • Approval Workflows  • SLA Tracking     • Event Processing         │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│   ┌────────────────────────── CORE MODULES ─────────────────────────────┐   │
│   │                                                                      │   │
│   │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐           │   │
│   │  │   Lead    │ │Feasibility│ │Entitlement│ │  Lending  │           │   │
│   │  │  Intake   │ │ & Design  │ │& Permitting│ │           │           │   │
│   │  │  Module   │ │  Module   │ │  Module   │ │  Module   │           │   │
│   │  └───────────┘ └───────────┘ └───────────┘ └───────────┘           │   │
│   │                                                                      │   │
│   │  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐           │   │
│   │  │ Servicing │ │ Documents │ │  Contacts │ │   Tasks   │           │   │
│   │  │  & Draws  │ │  Module   │ │  Module   │ │  Module   │           │   │
│   │  │  Module   │ │           │ │           │ │           │           │   │
│   │  └───────────┘ └───────────┘ └───────────┘ └───────────┘           │   │
│   │                                                                      │   │
│   │  ┌───────────┐ ┌───────────┐                                        │   │
│   │  │ Analytics │ │Notifications│                                       │   │
│   │  │ & Reports │ │  Service   │                                       │   │
│   │  └───────────┘ └───────────┘                                        │   │
│   │                                                                      │   │
│   └──────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                      AI & Intelligence Layer                         │   │
│   │  ┌─────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐   │   │
│   │  │    Lead     │ │  Document   │ │   Builder   │ │    Risk     │   │   │
│   │  │   Scoring   │ │ Extraction  │ │Recommendation│ │  Prediction │   │   │
│   │  └─────────────┘ └─────────────┘ └─────────────┘ └─────────────┘   │   │
│   │  ┌─────────────┐ ┌─────────────┐                                    │   │
│   │  │  Timeline   │ │  Document   │                                    │   │
│   │  │ Forecasting │ │Summarization│                                    │   │
│   │  └─────────────┘ └─────────────┘                                    │   │
│   └─────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                          INTEGRATION LAYER                                    │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌───────────────┐  ┌───────────────┐  ┌───────────────┐                   │
│   │  BPO Legacy   │  │   DocuSign/   │  │  Accounting   │                   │
│   │  Integration  │  │ Authentisign  │  │  Integration  │                   │
│   │  (Phase 1)    │  │  E-Signature  │  │               │                   │
│   └───────────────┘  └───────────────┘  └───────────────┘                   │
│                                                                              │
│   ┌───────────────┐  ┌───────────────┐  ┌───────────────┐                   │
│   │  Azure Doc    │  │    Email      │  │     SMS       │                   │
│   │ Intelligence  │  │  (SendGrid)   │  │   (Twilio)    │                   │
│   └───────────────┘  └───────────────┘  └───────────────┘                   │
│                                                                              │
│   ┌───────────────┐                                                          │
│   │  iPad App     │  (Bi-directional sync for inspections)                  │
│   │  Integration  │                                                          │
│   └───────────────┘                                                          │
│                                                                              │
│   ┌──────────────────────────────────────────────────────────────────┐      │
│   │                       Event Bus / Message Queue                   │      │
│   │        (Cross-module communication, async processing)            │      │
│   └──────────────────────────────────────────────────────────────────┘      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                             DATA LAYER                                        │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌───────────────┐  ┌───────────────┐  ┌───────────────┐                   │
│   │  PostgreSQL   │  │    Redis      │  │    Object     │                   │
│   │ (Primary DB)  │  │   (Cache)     │  │   Storage     │                   │
│   │               │  │               │  │  (S3/Blob)    │                   │
│   │ • Projects    │  │ • Sessions    │  │               │                   │
│   │ • Loans       │  │ • API Cache   │  │ • Documents   │                   │
│   │ • Contacts    │  │ • Rate Limits │  │ • Images      │                   │
│   │ • Tasks       │  │               │  │ • Plans       │                   │
│   │ • Documents   │  │               │  │               │                   │
│   └───────────────┘  └───────────────┘  └───────────────┘                   │
│                                                                              │
│   ┌───────────────┐  ┌───────────────┐                                      │
│   │  Message      │  │    Search     │                                      │
│   │   Queue       │  │ (Elasticsearch)│                                      │
│   │ (RabbitMQ/SQS)│  │   Optional    │                                      │
│   └───────────────┘  └───────────────┘                                      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
                                       │
                                       ▼
┌──────────────────────────────────────────────────────────────────────────────┐
│                         INFRASTRUCTURE LAYER                                  │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │              Cloud Platform (Azure / AWS / GCP)                     │    │
│   │                                                                     │    │
│   │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐           │    │
│   │  │Container │  │  Managed │  │  Managed │  │   CDN    │           │    │
│   │  │  Orch.   │  │Database  │  │  Cache   │  │          │           │    │
│   │  │(K8s/ECS) │  │  (RDS)   │  │(ElastiC.)│  │          │           │    │
│   │  └──────────┘  └──────────┘  └──────────┘  └──────────┘           │    │
│   │                                                                     │    │
│   │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐           │    │
│   │  │   VPC    │  │   Load   │  │   DNS    │  │   WAF    │           │    │
│   │  │ Network  │  │ Balancer │  │  Routing │  │ Security │           │    │
│   │  └──────────┘  └──────────┘  └──────────┘  └──────────┘           │    │
│   │                                                                     │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
│   ┌────────────────────────────────────────────────────────────────────┐    │
│   │                    Observability & DevOps                           │    │
│   │  • Monitoring (Datadog/App Insights)  • CI/CD (GitHub Actions)     │    │
│   │  • Logging (ELK/CloudWatch)           • Infrastructure as Code     │    │
│   │  • Distributed Tracing (OpenTelemetry)                             │    │
│   └────────────────────────────────────────────────────────────────────┘    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
```

---

## 3. Deal Lifecycle Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          CONNECT 2.0 DEAL LIFECYCLE                          │
└─────────────────────────────────────────────────────────────────────────────┘

     AGENT                ACQUISITIONS           DESIGN &            SERVICING
    PORTAL                   TEAM             ENTITLEMENT               TEAM
       │                       │                   │                      │
       │                       │                   │                      │
       ▼                       │                   │                      │
  ┌─────────┐                  │                   │                      │
  │  LEAD   │                  │                   │                      │
  │ INTAKE  │─────────────────►│                   │                      │
  │         │                  │                   │                      │
  └─────────┘                  ▼                   │                      │
       │              ┌──────────────┐             │                      │
       │              │  FEASIBILITY │             │                      │
       │              │  & DUE       │             │                      │
       │              │  DILIGENCE   │             │                      │
       │              │              │─────────────►                      │
       │              │  • Survey    │             │                      │
       │              │  • Title     │             ▼                      │
       │              │  • Arborist  │    ┌──────────────┐                │
       │              │              │    │ ENTITLEMENT  │                │
       │              └──────┬───────┘    │ & PERMITTING │                │
       │                     │            │              │                │
       │                     │ GO         │  • Permits   │                │
       │                     ▼            │  • Design    │                │
       │              ┌──────────────┐    │  • Consult.  │                │
       │              │    LOAN      │    └──────┬───────┘                │
       │              │ ORIGINATION  │           │                        │
       │              │              │◄──────────┘                        │
       │              │  • Terms     │    PERMIT                          │
       │              │  • Builder   │   APPROVED                         │
       │              │  • Docs      │                                    │
       │              └──────┬───────┘                                    │
       │                     │                                            │
       │                     │ FUNDED                                     │
       │                     ▼                                            │
       │              ┌──────────────────────────────────────────────────►│
       │              │                                                   │
       │              │                                           ┌───────┴───────┐
       │              │                                           │  CONSTRUCTION │
       │              │                                           │   SERVICING   │
       │              │                                           │               │
       │              │                                           │  • Draws      │
       │              │                                           │  • Inspections│
       │              │                                           │  • Statements │
       │              │                                           │  • Payoffs    │
       │              │                                           └───────┬───────┘
       │              │                                                   │
       │              │                                                   │
       │◄─────────────┴───────────── VISIBILITY ──────────────────────────┘
       │                    (Real-time status across all stages)
       │
    BUILDER
    PORTAL
```

---

## 4. Module Interaction Diagram

```
                              ┌───────────────────┐
                              │   API Gateway     │
                              │   (Entry Point)   │
                              └─────────┬─────────┘
                                        │
           ┌────────────────────────────┼────────────────────────────┐
           │                            │                            │
           ▼                            ▼                            ▼
┌──────────────────┐         ┌──────────────────┐         ┌──────────────────┐
│   Lead Intake    │────────►│   Feasibility    │────────►│   Entitlement    │
│     Module       │         │     Module       │         │     Module       │
│                  │         │                  │         │                  │
│ • Lead Form      │         │ • Consultant Mgmt│         │ • Permit Tracking│
│ • AI Scoring     │         │ • Doc Extraction │         │ • Task Workflow  │
│ • Agent Portal   │         │ • Proforma       │         │ • Plan Library   │
└──────────────────┘         └────────┬─────────┘         └────────┬─────────┘
                                      │                            │
                                      │  GO Decision               │ Permit Approved
                                      ▼                            ▼
                            ┌──────────────────┐         ┌──────────────────┐
                            │     Lending      │◄────────│    Servicing     │
                            │     Module       │         │     Module       │
                            │                  │         │                  │
                            │ • Loan Creation  │────────►│ • Draw Mgmt      │
                            │ • Builder Assign │ FUNDED  │ • Inspections    │
                            │ • E-Signature    │         │ • Statements     │
                            └────────┬─────────┘         └────────┬─────────┘
                                     │                            │
                                     │                            │
           ┌─────────────────────────┴────────────────────────────┴─────────┐
           │                                                                │
           ▼                            ▼                            ▼
┌──────────────────┐         ┌──────────────────┐         ┌──────────────────┐
│    Contacts      │         │    Documents     │         │     Tasks        │
│    Module        │         │     Module       │         │     Module       │
│                  │         │                  │         │                  │
│ • CRM            │         │ • Storage        │         │ • Assignments    │
│ • Relationships  │         │ • Versioning     │         │ • SLA Tracking   │
│ • History        │         │ • AI Extraction  │         │ • Reminders      │
└──────────────────┘         └──────────────────┘         └──────────────────┘
           │                            │                            │
           └────────────────────────────┴────────────────────────────┘
                                        │
                                        ▼
                            ┌──────────────────┐
                            │    Analytics     │
                            │     Module       │
                            │                  │
                            │ • Dashboards     │
                            │ • Reports        │
                            │ • KPIs           │
                            └──────────────────┘
```

---

## 5. External Integration Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           CONNECT 2.0 PLATFORM                               │
│                                                                              │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │                      Integration Gateway                             │    │
│  │  • API Adapters  • Webhook Handlers  • Queue Processors              │    │
│  └───────────────────────────────┬─────────────────────────────────────┘    │
│                                  │                                          │
└──────────────────────────────────┼──────────────────────────────────────────┘
                                   │
        ┌──────────────────────────┼───────────────────────────┐
        │                          │                           │
        ▼                          ▼                           ▼
┌───────────────┐         ┌───────────────┐         ┌───────────────┐
│  BPO LEGACY   │         │  iPad App     │         │   DocuSign/   │
│  (Firebase)   │         │ (Inspections) │         │  Authentisign │
│               │         │               │         │               │
│  • Read leads │         │  • Push draws │         │  • Send docs  │
│  • Write status│        │  • Sync photos│         │  • Webhooks   │
│               │         │  • Offline    │         │  • Download   │
│  Phase 1 Only │         │    sync       │         │    signed     │
└───────────────┘         └───────────────┘         └───────────────┘

        ┌──────────────────────────┼───────────────────────────┐
        │                          │                           │
        ▼                          ▼                           ▼
┌───────────────┐         ┌───────────────┐         ┌───────────────┐
│   Azure AI    │         │  Email/SMS    │         │  Accounting   │
│  Document     │         │  Services     │         │    System     │
│  Intelligence │         │               │         │               │
│               │         │  SendGrid     │         │  QuickBooks/  │
│  • Extract    │         │  Twilio       │         │  Xero/NetSuite│
│    survey     │         │               │         │               │
│  • Extract    │         │  • Notifs     │         │  • Loan sync  │
│    title      │         │  • Alerts     │         │  • Payments   │
│  • Summarize  │         │  • Reports    │         │  • Reconcile  │
└───────────────┘         └───────────────┘         └───────────────┘
```

---

## 6. Data Flow Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              DATA FLOW                                       │
└─────────────────────────────────────────────────────────────────────────────┘

     EXTERNAL                                                    EXTERNAL
     SYSTEMS                    CONNECT 2.0                      SERVICES
        │                                                            │
        │                    ┌───────────────┐                       │
        │                    │  API Gateway  │                       │
        │                    └───────┬───────┘                       │
        │                            │                               │
        │    ┌───────────────────────┼───────────────────────┐      │
        │    │                       ▼                       │      │
        │    │              ┌───────────────┐                │      │
        │    │              │    Service    │                │      │
        │    │              │     Layer     │                │      │
        │    │              └───────┬───────┘                │      │
        │    │                      │                        │      │
        │    │    ┌─────────────────┼─────────────────┐     │      │
        │    │    │                 │                 │     │      │
        │    │    ▼                 ▼                 ▼     │      │
        │    │ ┌──────┐       ┌───────────┐      ┌──────┐  │      │
        │    │ │Write │       │   Event   │      │ Read │  │      │
        │    │ │ Path │       │    Bus    │      │ Path │  │      │
        │    │ └──┬───┘       └─────┬─────┘      └──┬───┘  │      │
        │    │    │                 │               │      │      │
        │    │    │    ┌────────────┴────────────┐  │      │      │
        │    │    │    │                         │  │      │      │
        │    │    ▼    ▼                         ▼  ▼      │      │
        │    │ ┌──────────┐              ┌──────────────┐  │      │
        │    │ │PostgreSQL│              │    Redis     │  │      │
        │    │ │(Primary) │              │   (Cache)    │  │      │
        │    │ │          │              │              │  │      │
        │    │ │• Projects│              │• Session     │  │      │
        │    │ │• Loans   │              │• Query Cache │  │      │
        │    │ │• Contacts│              │• Rate Limits │  │      │
        │    │ └──────────┘              └──────────────┘  │      │
        │    │                                             │      │
        │    │    ┌────────────────────────────────────┐   │      │
        │    │    │           Object Storage           │   │      │
        │    │    │         (S3/Azure Blob)            │   │      │
        │    │    │  • Documents  • Images  • Plans    │   │      │
        │    │    └────────────────────────────────────┘   │      │
        │    │                                             │      │
        │    └─────────────────────────────────────────────┘      │
        │                          │                               │
        │                          │                               │
◄───────┴──────────────────────────┴───────────────────────────────┴──────────►
                                   │
                     ┌─────────────┴─────────────┐
                     │        Event Bus          │
                     │   (Async Processing)      │
                     │                           │
                     │  • Document Extraction    │
                     │  • Email Notifications    │
                     │  • Webhook Callbacks      │
                     │  • Background Jobs        │
                     └───────────────────────────┘
```

---

## 7. Security Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          SECURITY ARCHITECTURE                               │
└─────────────────────────────────────────────────────────────────────────────┘

                              EXTERNAL USERS
                                    │
                                    ▼
                    ┌───────────────────────────────┐
                    │            WAF                 │
                    │   (Web Application Firewall)   │
                    │   • OWASP Protection           │
                    │   • Rate Limiting              │
                    │   • Bot Protection             │
                    └───────────────┬───────────────┘
                                    │
                                    ▼
                    ┌───────────────────────────────┐
                    │         CDN / Load Balancer    │
                    │   • SSL/TLS Termination       │
                    │   • DDoS Protection           │
                    └───────────────┬───────────────┘
                                    │
                                    ▼
    ┌───────────────────────────────────────────────────────────────────┐
    │                         API GATEWAY                                │
    │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐               │
    │  │   OAuth     │  │    RBAC     │  │   Audit    │               │
    │  │  2.0 / JWT  │  │   Checks    │  │  Logging   │               │
    │  └─────────────┘  └─────────────┘  └─────────────┘               │
    └───────────────────────────┬───────────────────────────────────────┘
                                │
                                ▼
    ┌───────────────────────────────────────────────────────────────────┐
    │                      APPLICATION LAYER                             │
    │                                                                    │
    │   ┌─────────────────────────────────────────────────────────┐     │
    │   │              Role-Based Access Control                   │     │
    │   │                                                          │     │
    │   │  ┌──────────┐  ┌──────────┐  ┌──────────┐  ┌──────────┐│     │
    │   │  │  Admin   │  │Acquisitions│  │Servicing │  │  Agent  ││     │
    │   │  │   Role   │  │   Role    │  │   Role   │  │   Role  ││     │
    │   │  └──────────┘  └──────────┘  └──────────┘  └──────────┘│     │
    │   │  ┌──────────┐  ┌──────────┐                            │     │
    │   │  │ Builder  │  │Consultant │                            │     │
    │   │  │   Role   │  │   Role    │                            │     │
    │   │  └──────────┘  └──────────┘                            │     │
    │   └─────────────────────────────────────────────────────────┘     │
    │                                                                    │
    └───────────────────────────┬───────────────────────────────────────┘
                                │
                                ▼
    ┌───────────────────────────────────────────────────────────────────┐
    │                        DATA LAYER                                  │
    │                                                                    │
    │   ┌───────────────────────────────────────────────────────────┐   │
    │   │                    Data Security                           │   │
    │   │                                                            │   │
    │   │  • Encryption at Rest (AES-256)                           │   │
    │   │  • Encryption in Transit (TLS 1.3)                        │   │
    │   │  • Field-Level Encryption (PII)                           │   │
    │   │  • Database Access via IAM                                │   │
    │   │  • Private Subnets (No public access)                     │   │
    │   │  • Automated Backups (Encrypted)                          │   │
    │   └───────────────────────────────────────────────────────────┘   │
    │                                                                    │
    └───────────────────────────────────────────────────────────────────┘
                                │
                                ▼
    ┌───────────────────────────────────────────────────────────────────┐
    │                      SECRETS MANAGEMENT                            │
    │                                                                    │
    │   ┌───────────────────────────────────────────────────────────┐   │
    │   │   Azure Key Vault / AWS Secrets Manager / HashiCorp Vault  │   │
    │   │                                                            │   │
    │   │  • API Keys  • Database Credentials  • OAuth Secrets       │   │
    │   │  • Automatic Rotation  • Access Logging                    │   │
    │   └───────────────────────────────────────────────────────────┘   │
    │                                                                    │
    └───────────────────────────────────────────────────────────────────┘
```

---

## 8. Deployment Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        DEPLOYMENT ARCHITECTURE                               │
└─────────────────────────────────────────────────────────────────────────────┘

                         ┌─────────────────────┐
                         │   GitHub Actions    │
                         │   (CI/CD Pipeline)  │
                         └──────────┬──────────┘
                                    │
              ┌─────────────────────┼─────────────────────┐
              │                     │                     │
              ▼                     ▼                     ▼
     ┌────────────────┐   ┌────────────────┐   ┌────────────────┐
     │   Development  │   │    Staging     │   │   Production   │
     │   Environment  │   │   Environment  │   │   Environment  │
     └───────┬────────┘   └───────┬────────┘   └───────┬────────┘
             │                    │                    │
             ▼                    ▼                    ▼
    ┌─────────────────────────────────────────────────────────────────┐
    │                    KUBERNETES CLUSTER                            │
    │                                                                  │
    │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
    │  │  Namespace  │  │  Namespace  │  │  Namespace  │             │
    │  │    (dev)    │  │  (staging)  │  │   (prod)    │             │
    │  └─────────────┘  └─────────────┘  └─────────────┘             │
    │                                                                  │
    │  ┌──────────────────────────────────────────────────────────┐   │
    │  │                    Application Pods                       │   │
    │  │  ┌────────────┐  ┌────────────┐  ┌────────────┐          │   │
    │  │  │  API Pod   │  │  API Pod   │  │  API Pod   │          │   │
    │  │  │ (replica 1)│  │ (replica 2)│  │ (replica 3)│          │   │
    │  │  └────────────┘  └────────────┘  └────────────┘          │   │
    │  │                                                           │   │
    │  │  ┌────────────┐  ┌────────────┐                          │   │
    │  │  │Worker Pod  │  │Worker Pod  │  (Background jobs)       │   │
    │  │  └────────────┘  └────────────┘                          │   │
    │  └──────────────────────────────────────────────────────────┘   │
    │                                                                  │
    └─────────────────────────────┬────────────────────────────────────┘
                                  │
                                  ▼
    ┌─────────────────────────────────────────────────────────────────┐
    │                      MANAGED SERVICES                            │
    │                                                                  │
    │  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐          │
    │  │  RDS / Cloud │  │ ElastiCache  │  │  S3 / Blob   │          │
    │  │     SQL      │  │   (Redis)    │  │   Storage    │          │
    │  │ (PostgreSQL) │  │              │  │              │          │
    │  │              │  │  Primary +   │  │  Versioning  │          │
    │  │  Multi-AZ    │  │   Replica    │  │  Enabled     │          │
    │  │  Read Replica│  │              │  │              │          │
    │  └──────────────┘  └──────────────┘  └──────────────┘          │
    │                                                                  │
    └─────────────────────────────────────────────────────────────────┘
```

---

## 9. MVP Phasing Architecture

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                         MVP PHASING TIMELINE                                 │
└─────────────────────────────────────────────────────────────────────────────┘

 ───────────────────────────────────────────────────────────────────────────►
 DAY 0        DAY 30        DAY 60        DAY 90        DAY 120       DAY 180
    │            │             │             │              │             │
    │            │             │             │              │             │
    ▼            ▼             ▼             ▼              ▼             ▼
┌─────────────────────────────────────┐
│         PHASE 1: Days 1-90          │
│    Design & Entitlement Pilot       │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ DELIVERED:                      │ │
│ │ • Entitlement Module            │ │
│ │ • Task Workflow Engine          │ │
│ │ • Document Management           │ │
│ │ • Consultant Portal             │ │
│ │ • BPO Read Integration          │ │
│ │ • Notification Service          │ │
│ │ • Core Data Model               │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ USERS: 4-6 Entitlement Team     │ │
│ └─────────────────────────────────┘ │
└─────────────────────────────────────┘
                                      │
                                      ▼
                              ┌───────────────────────────────────────────────┐
                              │        PHASE 2: Days 91-180                   │
                              │      Full Platform Rebuild                    │
                              │                                               │
                              │ ┌───────────────────────────────────────────┐ │
                              │ │ DELIVERED:                                │ │
                              │ │ • Lead Intake Module (BPO rebuild)        │ │
                              │ │ • Feasibility Module                      │ │
                              │ │ • Lending Module                          │ │
                              │ │ • Servicing Module (Connect 1.0 rebuild)  │ │
                              │ │ • Contact Management                      │ │
                              │ │ • Analytics & Dashboards                  │ │
                              │ │ • iPad App Integration                    │ │
                              │ │ • E-Signature Integration                 │ │
                              │ │ • AI Document Intelligence                │ │
                              │ │ • Agent & Builder Portals                 │ │
                              │ └───────────────────────────────────────────┘ │
                              │                                               │
                              │ ┌───────────────────────────────────────────┐ │
                              │ │ USERS: All Blueprint Teams + Externals    │ │
                              │ └───────────────────────────────────────────┘ │
                              │                                               │
                              │ ┌───────────────────────────────────────────┐ │
                              │ │ RETIRED: BPO, Connect 1.0, SharePoint     │ │
                              │ └───────────────────────────────────────────┘ │
                              └───────────────────────────────────────────────┘
                                                                              │
                                                                              ▼
                                                    ┌─────────────────────────────────┐
                                                    │   PHASE 3: Days 180+            │
                                                    │   AI & Multi-Tenant             │
                                                    │                                 │
                                                    │ • AI Lead Scoring               │
                                                    │ • Builder Recommendations       │
                                                    │ • Timeline Forecasting          │
                                                    │ • Risk Prediction               │
                                                    │ • Multi-Tenant Foundation       │
                                                    │ • Datapage Commercialization    │
                                                    └─────────────────────────────────┘
```

---

## 10. Entity Relationship Overview

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       CORE ENTITY RELATIONSHIPS                              │
└─────────────────────────────────────────────────────────────────────────────┘

                         ┌───────────────┐
                         │    CONTACT    │
                         │               │
                         │ • Agent       │
                         │ • Builder     │
                         │ • Consultant  │
                         │ • Borrower    │
                         └───────┬───────┘
                                 │
           ┌─────────────────────┼─────────────────────┐
           │                     │                     │
           ▼                     ▼                     ▼
    ┌─────────────┐       ┌─────────────┐       ┌─────────────┐
    │   ENTITY    │       │   PROJECT   │       │    LOAN     │
    │    (LLC)    │       │             │       │             │
    │             │       │ Status:     │       │ Status:     │
    │ • Company   │◄──────│ • Lead      │──────►│ • Pending   │
    │ • Partners  │       │ • Feasibility│      │ • Approved  │
    └─────────────┘       │ • GO        │       │ • Funded    │
                          │ • Closed    │       │ • Servicing │
                          └──────┬──────┘       └──────┬──────┘
                                 │                     │
                    ┌────────────┼────────────┐        │
                    │            │            │        │
                    ▼            ▼            ▼        ▼
            ┌────────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐
            │FEASIBILITY │ │ENTITLEMENT│ │ DOCUMENT │ │   DRAW   │
            │            │ │           │ │          │ │          │
            │ • Proforma │ │ • Permits │ │ • Survey │ │ • Amount │
            │ • Score    │ │ • Status  │ │ • Title  │ │ • Status │
            │ • Decision │ │ • Design  │ │ • Plans  │ │ • Inspect│
            └─────┬──────┘ └─────┬─────┘ └──────────┘ └──────────┘
                  │              │
                  ▼              ▼
            ┌────────────────────────────┐
            │          TASK              │
            │                            │
            │ • Type (Survey, Civil...)  │
            │ • Assigned To              │
            │ • Due Date                 │
            │ • Status                   │
            │ • SLA Tracking             │
            └────────────────────────────┘
```

---

## Quick Reference

### Technology Stack Summary

| Layer | Technology |
|-------|------------|
| **Frontend** | React, TypeScript, Vite |
| **Backend** | Node.js/Fastify (TypeScript) |
| **Database** | PostgreSQL + Redis |
| **Storage** | S3/Azure Blob |
| **AI/ML** | Azure OpenAI, Document Intelligence |
| **Auth** | OAuth 2.0 / JWT |
| **Deployment** | Kubernetes, Docker |
| **CI/CD** | GitHub Actions |
| **Monitoring** | Datadog / Application Insights |

### Key Integrations

| System | Direction | Method |
|--------|-----------|--------|
| BPO (Firebase) | Bi-directional (Phase 1) | REST API |
| iPad Inspection | Bi-directional | REST API |
| DocuSign | Outbound + Webhook | REST API |
| Azure Doc Intelligence | Outbound | Azure SDK |
| SendGrid/Twilio | Outbound | REST API |
| Accounting | Bi-directional | TBD |

### Success Metrics

| Metric | Day 90 Target | Day 180 Target |
|--------|---------------|----------------|
| Feasibility packet time | -50% | -50% |
| Entitlement prep time | -50% | -50% |
| Deals vetted per FTE | - | 2x |
| Draw turnaround | - | -60% |
| User adoption | 85% (pilot) | 85% (all) |
| Uptime | 99.5% | 99.5% |

---

**Document Status:** Reference Architecture v1.0
**Last Updated:** November 25, 2025
**Related Docs:** [SYSTEM_ARCHITECTURE.md](technical/SYSTEM_ARCHITECTURE.md), [INTEGRATION_SPECIFICATIONS.md](technical/INTEGRATION_SPECIFICATIONS.md)
